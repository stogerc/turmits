sq 0 15 0 sq1			;Рисуем рабочую область
	sq1 0 15 0 sq2
	sq2 0 15 0 sq3
	sq3 0 15 0 sq4
	sq4 0 15 0 sq5
	sq5 0 15 0 sq6
	sq6 0 15 0 sq7
	sq7 0 15 0 sq8
	sq8 0 15 0 sq9
	sq9 0 15 0 sq10
	sq10 0 15 0 sq11
	sq11 0 15 0 sq12
	sq12 0 15 0 sq13
	sq13 0 15 0 sq14
	sq14 0 15 0 sq15
	sq15 0 15 0 sq16
	sq16 0 15 0 sq17
	sq17 0 15 0 sq18
	sq18 0 15 0 sq19
	sq19 0 15 0 sq20
	sq20 0 15 0 sq21
	sq21 0 15 0 sq22
	sq22 0 15 0 sq23
	sq23 0 15 0 sq24
	sq24 0 15 0 sq25
	sq25 0 15 0 sq26
	sq26 0 15 0 sq27
	sq27 0 15 0 sq28
	sq28 0 15 0 sq29
	sq29 0 15 0 sq30
	sq30 0 15 0 sq31
	sq31 0 15 0 sq32
	sq32 0 15 0 sq33
	sq33 0 15 0 sq34
	sq34 0 15 0 sq35
	sq35 0 15 0 sq36
	sq36 0 15 0 sq37
	sq37 0 15 0 sq38
	sq38 0 15 0 sq39
	sq39 0 15 0 sq40
	sq40 0 15 0 sq41
	sq41 0 15 0 sq42
	sq42 0 15 0 sq43
	sq43 0 15 0 sq44
	sq44 0 15 0 sq45
	sq45 0 15 0 sq46
	sq46 0 15 0 sq47
	sq47 0 15 0 sq48
	sq48 0 15 0 sq49
	sq49 0 15 0 sq50
	sq50 0 15 0 sq51
	sq51 0 15 0 sq52
	sq52 0 15 0 sq53
	sq53 0 15 0 sq54
	sq54 0 15 0 sq55
	sq55 0 15 0 sq56
	sq56 0 15 0 sq57
	sq57 0 15 0 sq58
	sq58 0 15 0 sq59
	sq59 0 15 0 sq60
	sq60 0 15 0 sq61
	sq61 0 15 0 sq62
	sq62 0 15 0 sq63
	sq63 0 15 0 sq64
	sq64 0 15 0 sq65
	sq65 0 15 0 sq66
	sq66 0 15 0 sq67
	sq67 0 15 0 sq68
	sq68 0 15 0 sq69
	sq69 0 15 0 sq70
	sq70 0 15 0 sq71
	sq71 0 15 0 sq72
	sq72 0 15 0 sq73
	sq73 0 15 0 sq74
	sq74 0 15 0 sq75
	sq75 0 15 0 sq76
	sq76 0 15 0 sq77
	sq77 0 15 0 sq78
	sq78 0 15 1 sq			;поворачиваем и рисуем следующую линию
sq 15 15 1 dr				;рисуем примитивный объект из песка

dr 0 14 -1 dr1
	dr1 0 14 1 dr2
	dr2 0 14 1 dr3
	dr3 0 14 -1 dr
dr 15 15 -1 Right




Down 15 15 -1 Right
Down -1 -1 0 Down


Right 0 0 2 Up1				;когда встречаем пустоту, разворачиваемся
	Up1 -1 -1 1 Up2			;устанавливаем исполнителя на
	Up2 -1 -1 -1 go				;переходим к функции go
Right -1 -1 0 Right 		;пока есть стена, продолжаем идти




go 14 14 -1 isDown									;если встречаем ячейку с песком, то вниз
	isDown 0 14 2 fall								;если внизу пусто, помещаем туда песчинку
		fall -1 0 -1 go								;удаляем песчинку сверху, продолжаем движение
	isDown -1 -1 -1 isRight							;если внизу что-то есть, то проверяем углы
		isRight 0 14 -1 gotogor
			gotogor -1 -1 -1 gotogor1
			gotogor1 -1 0 0 go
		isRight -1 -1 2 go2leftfromRight
		go2leftfromRight -1 -1 0 isleft
			isleft 0 14 1 gotogol
				gotogol -1 -1 1 gotogol1
				gotogol1 -1 0 2 go
			isleft -1 -1 1 goup
				goup -1 -1 1 goup1
				goup1 -1 -1 2 go


go 4 12 1 burn			;^
	burn 14 4 2 burn05
	burn 6 4 2 burn05
	burn -1 -1 2 burn05		;o
	burn05 -1 -1 1 burn1	;<

;	burn1 14 4 2 burn15
;	burn1 6 4 2 burn15
	burn1 -1 -1 2 burn15	;o
	burn15 -1 -1 1 burn2	;v

	burn2 14 4 2 burn25
	burn2 6 4 2 burn25	
	burn2 -1 -1 2 burn25	;o
	burn25 -1 -1 1 burn3	;>

	burn3 14 4 2 burn35
	burn3 6 4 2 burn35
	burn3 -1 -1 2 burn35	;o
	burn35 -1 -1 0 go



go 12 7 0 go
go 7 8 0 go
go 8 0 0 go


go 15 15 1 go2golr
	go2golr -1 -1 1 pregolr
go -1 -1 0 go

pregolr 15 15 1 Down
pregolr -1 -1 2 pregolr1
	pregolr1 -1 -1 2 golr


golr 14 14 1 isDownlr									;если встречаем ячейку с песком, то вниз
	isDownlr 0 14 2 falllr								;если внизу пусто, помещаем туда песчинку
		falllr -1 0 1 golr								;удаляем песчинку сверху, продолжаем движение
	isDownlr -1 -1 1 isRightlr							;если внизу что-то есть, то проверяем углы
		isRightlr 0 14 1 gotogorlr
			gotogorlr -1 -1 1 gotogor1lr
			gotogor1lr -1 0 0 golr
		isRightlr -1 -1 2 go2leftfromRightlr
		go2leftfromRightlr -1 -1 0 isleftlr
			isleftlr 0 14 -1 gotogollr
				gotogollr -1 -1 -1 gotogol1lr
				gotogol1lr -1 0 2 golr
			isleftlr -1 -1 -1 gouplr
				gouplr -1 -1 -1 goup1lr
				goup1lr -1 -1 2 golr

golr 4 12 1 burnlr			;v
	burnlr 14 4 2 burn05lr
	burnlr 6 4 2 burn05lr
	burnlr -1 -1 2 burn05lr		;o
	burn05lr -1 -1 1 burn1lr	;>

;	burn1lr 14 4 2 burn15lr
;	burn1lr 6 4 2 burn15lr
	burn1lr -1 -1 2 burn15lr	;o
	burn15lr -1 -1 1 burn2lr	;^

	burn2lr 14 4 2 burn25lr
	burn2lr 6 4 2 burn25lr
	burn2lr -1 -1 2 burn25lr	;o
	burn25lr -1 -1 1 burn3lr	;<

	burn3lr 14 4 2 burn35lr
	burn3lr 6 4 2 burn35lr
	burn3lr -1 -1 2 burn35lr	;o
	burn35lr -1 -1 0 golr


golr 12 7 0 golr
golr 7 8 0 golr
golr 8 0 0 golr



golr 15 15 -1 go2go
	go2go -1 -1 -1 prego
golr -1 -1 0 golr

prego 15 15 -1 Down
prego -1 -1 2 prego1
	prego1 -1 -1 2 go
